(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

var _main = require('./main.js');

var _main2 = _interopRequireDefault(_main);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./main.js":2}],2:[function(require,module,exports){
'use strict';

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var serviceName = 'Enginner Fighter',
    thisServer = 'http://localhost:3000/',
    socket = io.connect(thisServer);

var screen_width = 640;
var screen_height = 290;
var player02_width = 80;
var player02_height = 80;
var player01_image = thisServer + 'images/player01.gif';
var player02_image = thisServer + 'images/player02.gif';
var bg_battle_image01 = thisServer + 'images/bg_battle01.jpg';

var assets = [player01_image, player02_image, bg_battle_image01];

var player01 = void 0;

var playerInfo = {
	id: '',
	loginName: 'hoge',
	x: 128,
	y: 220,
	nameX: 0,
	nameY: 0,
	frame: 1
};

console.log(playerInfo);

var player = null;
var otherPlayers = {};

// 繋がった時の処理
socket.on('connect', function () {

	Push.create('Enginner Fighter', {
		body: playerInfo.loginName + 'がログインしました。',
		icon: {
			x32: '' + playerInfo.img
		},
		timeout: 3000
	});

	playerInfo.id = socket.id;

	socket.emit('name', playerInfo);
});

enchant();

window.onload = function () {

	if (window.GamepadEvent) {
		window.addEventListener('gamepadconnected', function (e) {
			console.log("ゲームパッドが接続されました。");
			console.log(e.gamepad);
		});
	}

	var gamepad = navigator.getGamepads && navigator.getGamepads()[0];

	function errorLog() {
		console.log("Fail!");
		console.log(XMLHttpRequest.status);
		console.log(textStatus);
	}

	var game = new Game(screen_width, screen_height);
	game.preload(assets);
	game.fps = 30;
	game.keybind(32, 'space');
	game.keybind(65, 'a');
	game.keybind(83, 's');
	game.onload = function () {
		var root = game.rootScene,
		    input = game.input,
		    player_speed = 15;

		var LifeP1 = new Entity();
		LifeP1.width = screen_width / 2 - 10;
		LifeP1.height = 20;
		LifeP1.x = 10;
		LifeP1.y = 10;
		LifeP1.backgroundColor = '#27e4b2';

		var LifeP2 = new Entity();
		LifeP2.width = -screen_width / 2 + 10;
		LifeP2.height = 20;
		LifeP2.x = screen_width - 10;
		LifeP2.y = 10;
		LifeP2.backgroundColor = '#27e4b2';

		var scene = new Scene();
		var bg = new Sprite(screen_width, screen_height);
		bg.image = game.assets[bg_battle_image01];
		bg.x = 0;
		bg.y = 0;

		socket.on('name', function (otherPlayerInfo) {

			var id = otherPlayerInfo.id;
			var otherPlayer = otherPlayers[id] = new Sprite(64, 64);
			otherPlayer.id = id;
			otherPlayer.x = 0;
			otherPlayer.y = 0;

			otherPlayer.setPosition = function (pos) {
				otherPlayer.x = pos.x;
				otherPlayer.y = pos.y;
				otherPlayer.frame = pos.frame;
			};
			otherPlayer.setPosition.bind(otherPlayerInfo);

			// player01のジャンプ
			socket.on('pushUp01:' + id, function (pos) {
				console.log(id);
				player01.x = pos.x;
				player01.y = pos.y;
				player01.frame = pos.frame;
				// console.log(`y: ${player01.y}, frame: ${player01.frame}`);
			});

			// player01の右移動
			socket.on('pushRight01:' + id, function (pos) {
				// let move = document.createEvent('Event');
				// move.initEvent('keydown', true, true);
				// move.keyCode = 39;
				// document.dispatchEvent(move);
				// console.log(player01);
				// console.log(window);

				player01.x = pos.x;
				player01.y = pos.y;
				player01.frame = pos.frame;

				console.log('x: ' + player01.x + ', frame: ' + player01.frame);
				console.log(player01);
				console.log(player01.frame);
			});

			// player01のかがみ
			socket.on('pushDown01:' + id, function (pos) {
				player01.x = pos.x;
				player01.y = pos.y;
				player01.frame = pos.frame;

				// console.log(`y: ${player01.y}, frame: ${player01.frame}`);
			});

			// player01の左移動
			socket.on('pushLeft01:' + id, function (pos) {
				// let move = document.createEvent('Event');
				// move.initEvent('keydown', true, true);
				// move.keyCode = 38;
				// document.dispatchEvent(move);

				player01.x = pos.x;
				player01.y = pos.y;
				player01.frame = pos.frame;

				console.log('x: ' + player01.x + ', frame: ' + player01.frame);
			});
		});

		var Player01 = Class.create(Sprite, {
			initialize: function initialize(playerInfo) {
				var _this = this;

				var ground = 220;
				var preInput = false;
				var jump = false;

				Sprite.call(this, 64, 64);
				this.playerInfo = playerInfo;
				this.setSettingFile(playerInfo.settingFile);
				this.image = game.assets[player01_image];
				this.scaleX = -1;
				this.x = this.playerInfo.x;
				this.y = this.playerInfo.y;
				this.width = 64;
				// 名前
				this.loginName = new Label(this.playerInfo.loginName);
				this.loginName.width = 100;
				this.loginName.color = 'black';
				this.loginName.x = this.x + 10;
				this.loginName.y = this.y - 15;
				this.frame = this.playerInfo.frame;
				// 衝突判定
				this.entity = new Entity();
				this.entity.x = this.x;
				this.entity.y = this.y;
				this.entity.width = 64;
				this.entity.height = 64;
				this.entity.backgroundColor = 'blue';
				this.on('enterframe', function () {
					if (playerInfo.id) {
						var tempy = _this.y;
						var gravity = 1.0;

						_this.frame = 0;
						_this.scaleX = -1;

						if (input.up && !preInput && !jump) {
							gravity = -12.0;
							jump = true;

							_this.loginName.y = _this.y - 15;

							socket.emit('pushUp01', {
								x: _this.x,
								y: _this.y,
								frame: _this.frame
							});
						}
						if (input.right) {
							_this.x += player_speed;
							_this.loginName.x += player_speed;
							_this.frame = _this.age % 3 + 1;
							socket.emit('pushRight01', {
								x: _this.x,
								y: _this.y,
								frame: _this.frame
							});
						}

						if (input.down) {
							_this.frame = 8;
							socket.emit('pushDown01', {
								x: _this.x,
								y: _this.y,
								frame: _this.frame
							});
						}
						if (input.left) {
							_this.scaleX = 1;
							_this.x -= player_speed;
							_this.loginName.x -= player_speed;
							_this.frame = _this.age % 3 + 1;
							socket.emit('pushLeft01', {
								x: _this.x,
								y: _this.y,
								frame: _this.frame
							});
						}
						if (input.a) {
							_this.x += 100;
							_this.frame = _this.age % 3 + 9;
						}
						if (input.s) {
							_this.x += 2;
							_this.frame = _this.age % 2 + 4;
						}
						_this.y += _this.y - ground + gravity;
						if (_this.y > 220) {
							_this.y = 220;
							jump = false;
						}
						ground = tempy;
						preInput = input.up;
					}

					var left = 0;
					var top = 0;
					var right = screen_width - _this.width;
					var bottom = screen_height - _this.heigh;


					if (_this.x < left || _this.loginName.x < left) {
						_this.x = left;
						_this.loginName.x = left;
					} else if (_this.x > right || _this.loginName.x > right) {
						_this.x = right;
						_this.loginName.x = right;
					}
					if (_this.y < top || _this.loginName.y < top) {
						_this.y = top;
						_this.loginName.y = top;
					} else if (_this.y > bottom || _this.loginName.y > bottom) {
						_this.y = bottom;
						_this.loginName.y = bottom;
					}
				});

				return this;
			},
			setSettingFile: function setSettingFile(settingFile) {
				this.settingFile = settingFile;
				var core = enchant.Core.instance;
				if (core.assets[this.settingFile]) {
					this.setSetting(core.assets[this.settingFile]);
				}
			},
			setSetting: function setSetting(setting) {
				var info = JSON.parse(setting);

				this.width = info.width;
				this.height = info.height;
				this.x = info.x;
				this.y = info.y;
				console.log(this.x);
				this.setImage(info.image);
			},
			attack: function attack() {
				this.frame = this.age % 3 + 4;
				console.log(player01);
			}
		});

		var Attack01 = Class.create(Sprite, {
			initialize: function initialize(x, y) {
				sprite.call(this, 64, 64);
				this.destroy = false;
				this.x = x;
				this.y = y;
				this.on('enterframe', function () {
					if (game.input.a) {
						Attack01Fuc();
					}
					console.log(Attack01);
				});
			}
		});

		var Player03 = function Player03(x, y) {
			_classCallCheck(this, Player03);

			var player03_img = new Image();
			player03_img.src = 'http://localhost:3000/images/bigmonster2.gif';
			this.x = x;
			this.y = y;
			this.width = 254;
			this.height = 254;
			this.image = game.assets[player01_image];
			this.frame = 0;
		};

		var Player02 = Class.create(Sprite, {
			initialize: function initialize(x, y) {
				var _this2 = this;

				Sprite.call(this, 64, 64);
				this.image = game.assets[player02_image];
				var p01_image = this.image;
				this.x = x;
				this.y = y;
				this.scaleX = 1;
				this.frame = 0;
				this.on('enterframe', function () {
					_this2.frame = _this2.direction * 3 + _this2.walk;
				});
			}
		});

		var attackIntersect = function attackIntersect() {
			if (player01.intersect(player02)) {
				player02.removeEnterListener('enterframe', attackIntersect);
				console.log('ぶつかった');
			}
		};

		function Attack01Fuc() {
			var attack01 = new Attack01();
			root.addChild(attack01);
			console.log(attack01);
		}

		function topScene() {
			var scene = new Scene();
			var bg = new Sprite(screen_width, screen_height);

			return scene;
		}

		function battleScene() {
			root.addChild(bg);
			root.addChild(LifeP1);
			root.addChild(LifeP2);
			var player01 = new Player01(playerInfo);
			root.addChild(player01, attackIntersect);
			root.addChild(player01.loginName);

			var player02 = new Player02(screen_width / 1.5, 220);
			root.addChild(player02, attackIntersect);

			var distance = (player01Entity.width + player01.width) / 2;
			// if (player01.within(player01Entity, distance) === true) {
			// 	player01Entity.backgroundColor = 'red';
			// }
			console.log(distance);
			return scene;
		}

		game.rootScene.on('enterframe', function () {
			if (game.input.space) {
				battleScene();
			}
		});
	};
	game.start();
};

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJwdWJsaWMvamF2YXNjcmlwdHMvYXBwLmpzIiwicHVibGljL2phdmFzY3JpcHRzL21haW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0FBOzs7Ozs7Ozs7OztBQ0FBLElBQU0sY0FBYyxrQkFBcEI7SUFDTSxhQUFhLHdCQURuQjtJQUVNLFNBQVMsR0FBRyxPQUFILENBQVcsVUFBWCxDQUZmOztBQUlBLElBQU0sZUFBZSxHQUFyQjtBQUNBLElBQU0sZ0JBQWdCLEdBQXRCO0FBQ0EsSUFBTSxpQkFBaUIsRUFBdkI7QUFDQSxJQUFNLGtCQUFrQixFQUF4QjtBQUNBLElBQU0saUJBQWlCLGFBQWEscUJBQXBDO0FBQ0EsSUFBTSxpQkFBaUIsYUFBYSxxQkFBcEM7QUFDQSxJQUFNLG9CQUFvQixhQUFhLHdCQUF2Qzs7QUFHQSxJQUFNLFNBQVMsQ0FDZCxjQURjLEVBRWQsY0FGYyxFQUdkLGlCQUhjLENBQWY7O0FBTUEsSUFBSSxpQkFBSjs7QUFFQSxJQUFNLGFBQWE7QUFDbEIsS0FBSSxFQURjO0FBRWxCLFlBQVcsTUFGTztBQUdsQixJQUFHLEdBSGU7QUFJbEIsSUFBRyxHQUplO0FBS2xCLFFBQU8sQ0FMVztBQU1sQixRQUFPLENBTlc7QUFPbEIsUUFBTztBQVBXLENBQW5COztBQVVBLFFBQVEsR0FBUixDQUFZLFVBQVo7O0FBR0EsSUFBTSxTQUFTLElBQWY7QUFDQSxJQUFNLGVBQWUsRUFBckI7OztBQUdBLE9BQU8sRUFBUCxDQUFVLFNBQVYsRUFBcUIsWUFBTTs7QUFFMUIsTUFBSyxNQUFMLENBQVksa0JBQVosRUFBZ0M7QUFDL0IsUUFBUyxXQUFXLFNBQXBCLGVBRCtCO0FBRS9CLFFBQU07QUFDTCxhQUFRLFdBQVc7QUFEZCxHQUZ5QjtBQUsvQixXQUFTO0FBTHNCLEVBQWhDOztBQVFBLFlBQVcsRUFBWCxHQUFnQixPQUFPLEVBQXZCOztBQUVBLFFBQU8sSUFBUCxD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UixDQUFZLFFBQVo7QUFDQSxVQUFPLEtBQVA7QUFDQTs7QUFFRCxPQUFLLFNBQUwsQ0FBZSxFQUFmLENBQWtCLFlBQWxCLEVBQWdDLFlBQU07QUFDckMsT0FBSSxLQUFLLEtBQUwsQ0FBVyxLQUFmLEVBQXNCO0FBQ3JCO0FBQ0E7QUFDRCxHQUpEO0FBS0EsRUFsVUQ7QUFtVUEsTUFBSyxLQUFMO0FBQ0EsQ0EvVkQiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiaW1wb3J0IG1haW4gZnJvbSAnLi9tYWluLmpzJzsiLCJjb25zdCBzZXJ2aWNlTmFtZSA9ICdFbmdpbm5lciBGaWdodGVyJyxcbiAgICAgIHRoaXNTZXJ2ZXIgPSAnaHR0cDovL2xvY2FsaG9zdDozMDAwLycsXG4gICAgICBzb2NrZXQgPSBpby5jb25uZWN0KHRoaXNTZXJ2ZXIpO1xuXG5jb25zdCBzY3JlZW5fd2lkdGggPSA2NDA7XG5jb25zdCBzY3JlZW5faGVpZ2h0ID0gMjkwO1xuY29uc3QgcGxheWVyMDJfd2lkdGggPSA4MDtcbmNvbnN0IHBsYXllcjAyX2hlaWdodCA9IDgwO1xuY29uc3QgcGxheWVyMDFfaW1hZ2UgPSB0aGlzU2VydmVyICsgJ2ltYWdlcy9wbGF5ZXIwMS5naWYnO1xuY29uc3QgcGxheWVyMDJfaW1hZ2UgPSB0aGlzU2VydmVyICsgJ2ltYWdlcy9wbGF5ZXIwMi5naWYnO1xuY29uc3QgYmdfYmF0dGxlX2ltYWdlMDEgPSB0aGlzU2VydmVyICsgJ2ltYWdlcy9iZ19iYXR0bGUwMS5qcGcnO1xuXG5cbmNvbnN0IGFzc2V0cyA9IFtcblx0cGxheWVyMDFfaW1hZ2UsXG5cdHBsYXllcjAyX2ltYWdlLFxuXHRiZ19iYXR0bGVfaW1hZ2UwMVxuXTtcblxubGV0IHBsYXllcjAxO1xuXG5jb25zdCBwbGF5ZXJJbmZvID0ge1xuXHRpZDogJycsXG5cdGxvZ2luTmFtZTogJ2hvZ2UnLFxuXHR4OiAxMjgsXG5cdHk6IDIyMCxcblx0bmFtZVg6IDAsXG5cdG5hbWVZOiAwLFxuXHRmcmFtZTogMVxufTtcblxuY29uc29sZS5sb2cocGxheWVySW5mbyk7XG5cblxuY29uc3QgcGxheWVyID0gbnVsbDtcbmNvbnN0IG90aGVyUGxheWVycyA9IHt9O1xuXG4vLyDnuYvjgYzjgaPjgZ/mmYLjga7lh6bnkIZcbnNvY2tldC5vbignY29ubmVjdCcsICgpID0+IHtcblxuXHRQdXNoLmNyZWF0ZSgnRW5naW5uZXIgRmlnaHRlcicsIHtcblx0XHRib2R5OiBgJHtwbGF5ZXJJbmZvLmxvZ2luTmFtZX3jgYzjg63jgrDjgqTjg7PjgZfjgb7jgZfjgZ/jgIJgLFxuXHRcdGljb246IHtcblx0XHRcdHgzMjogYCR7cGxheWVySW5mby5pbWd9YFxuXHRcdH0sXG5cdFx0dGltZW91dDogMzAwMFxuXHR9KTtcblxuXHRwbGF5ZXJJbmZvLmlkID0gc29ja2V0LmlkO1xuXG5cdHNvY2tldC5lbWl0KCduYW1lJywgcGxheWVySW5mbyk7XG59KTtcblxuXG5cbmVuY2hhbnQoKTtcblxuXG53aW5kb3cub25sb2FkID0gKCkgPT4ge1xuXG5cblx0aWYgKHdpbmRvdy5HYW1lcGFkRXZlbnQpIHtcblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZ2FtZXBhZGNvbm5lY3RlZCcsIGUgPT4ge1xuXHRcdFx0Y29uc29sZS5sb2coXCLjgrLjg7zjg6Djg5Hjg4Pjg4njgYzmjqXntprjgZXjgozjgb7jgZfjgZ/jgIJcIik7XG5cdFx0XHRjb25zb2xlLmxvZyhlLmdhbWVwYWQpO1xuXHRcdH0pO1xuXHR9XG5cblxuXHRjb25zdCBnYW1lcGFkID0gbmF2aWdhdG9yLmdldEdhbWVwYWRzICYmIG5hdmlnYXRvci5nZXRHYW1lcGFkcygpWzBdO1xuXG5cblx0ZnVuY3Rpb24gZXJyb3JMb2coKSB7XG5cdFx0Y29uc29sZS5sb2coXCJGYWlsIVwiKTtcblx0XHRjb25zb2xlLmxvZyhYTUxIdHRwUmVxdWVzdC5zdGF0dXMpO1xuXHRcdGNvbnNvbGUubG9nKHRleHRTdGF0dXMpO1xuXHR9XG5cblxuXHRjb25zdCBnYW1lID0gbmV3IEdhbWUoc2NyZWVuX3dpZHRoLCBzY3JlZW5faGVpZ2h0KTtcblx0Z2FtZS5wcmVsb2FkKGFzc2V0cyk7XG5cdGdhbWUuZnBzID0gMzA7XG5cdGdhbWUua2V5YmluZCgzMiwgJ3NwYWNlJyk7XG5cdGdhbWUua2V5YmluZCg2NSwgJ2EnKTtcblx0Z2FtZS5rZXliaW5kKDgzLCAncycpO1xuXHRnYW1lLm9ubG9hZCA9ICgpID0+IHtcblx0XHRjb25zdCByb290ID0gZ2FtZS5yb290U2NlbmUsXG5cdFx0XHRcdFx0aW5wdXQgPSBnYW1lLmlucHV0LFxuXHRcdFx0XHRcdHBsYXllcl9zcGVlZCA9IDE1O1xuXG5cdFx0Y29uc3QgTGlmZVAxID0gbmV3IEVudGl0eSgpO1xuXHRcdExpZmVQMS53aWR0aCA9IHNjcmVlbl93aWR0aCAvIDIgLSAxMDtcblx0XHRMaWZlUDEuaGVpZ2h0ID0gMjA7XG5cdFx0TGlmZVAxLnggPSAxMDtcblx0XHRMaWZlUDEueSA9IDEwO1xuXHRcdExpZmVQMS5iYWNrZ3JvdW5kQ29sb3IgPSAnIzI3ZTRiMic7XG5cblx0XHRjb25zdCBMaWZlUDIgPSBuZXcgRW50aXR5KCk7XG5cdFx0TGlmZVAyLndpZHRoID0gLXNjcmVlbl93aWR0aCAvIDIgKyAxMDtcblx0XHRMaWZlUDIuaGVpZ2h0ID0gMjA7XG5cdFx0TGlmZVAyLnggPSBzY3JlZW5fd2lkdGggLSAxMDtcblx0XHRMaWZlUDIueSA9IDEwO1xuXHRcdExpZmVQMi5iYWNrZ3JvdW5kQ29sb3IgPSAnIzI3ZTRiMic7XG5cblx0XHRsZXQgc2NlbmUgPSBuZXcgU2NlbmUoKTtcblx0XHRsZXQgYmcgPSBuZXcgU3ByaXRlKHNjcmVlbl93aWR0aCwgc2NyZWVuX2hlaWdodCk7XG5cdFx0YmcuaW1hZ2UgPSBnYW1lLmFzc2V0c1tiZ19iYXR0bGVfaW1hZ2UwMV07XG5cdFx0YmcueCA9IDA7XG5cdFx0YmcueSA9IDA7XG5cblx0XHRzb2NrZXQub24oJ25hbWUnLCBvdGhlclBsYXllckluZm8gPT4ge1xuXG5cdFx0XHRsZXQgaWQgPSBvdGhlclBsYXllckluZm8uaWQ7XG5cdFx0XHRjb25zdCBvdGhlclBsYXllciA9IG90aGVyUGxheWVyc1tpZF0gPSBuZXcgU3ByaXRlKDY0LCA2NCk7XG5cdFx0XHRvdGhlclBsYXllci5pZCA9IGlkO1xuXHRcdFx0b3RoZXJQbGF5ZXIueCA9IDA7XG5cdFx0XHRvdGhlclBsYXllci55ID0gMDtcblxuXG5cdFx0XHRvdGhlclBsYXllci5zZXRQb3NpdGlvbiA9IHBvcyA9PiB7XG5cdFx0XHRcdG90aGVyUGxheWVyLnggPSBwb3MueDtcblx0XHRcdFx0b3RoZXJQbGF5ZXIueSA9IHBvcy55O1xuXHRcdFx0XHRvdGhlclBsYXllci5mcmFtZSA9IHBvcy5mcmFtZTtcblx0XHRcdH1cblx0XHRcdG90aGVyUGxheWVyLnNldFBvc2l0aW9uLmJpbmQob3RoZXJQbGF5ZXJJbmZvKTtcblxuXG5cdFx0XHQvLyBwbGF5ZXIwMeOBruOCuOODo+ODs+ODl1xuXHRcdFx0c29ja2V0Lm9uKCdwdXNoVXAwMTonICsgaWQsIHBvcyA9PiB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKGlkKTtcblx0XHRcdFx0cGxheWVyMDEueCA9IHBvcy54O1xuXHRcdFx0XHRwbGF5ZXIwMS55ID0gcG9zLnk7XG5cdFx0XHRcdHBsYXllcjAxLmZyYW1lID0gcG9zLmZyYW1lO1xuXHRcdFx0XHQvLyBjb25zb2xlLmxvZyhgeTogJHtwbGF5ZXIwMS55fSwgZnJhbWU6ICR7cGxheWVyMDEuZnJhbWV9YCk7XG5cdFx0XHR9KTtcblxuXG5cdFx0XHQvLyBwbGF5ZXIwMeOBruWPs+enu+WLlVxuXHRcdFx0c29ja2V0Lm9uKCdwdXNoUmlnaHQwMTonICsgaWQsIHBvcyA9PiB7XG5cdFx0XHRcdC8vIGxldCBtb3ZlID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG5cdFx0XHRcdC8vIG1vdmUuaW5pdEV2ZW50KCdrZXlkb3duJywgdHJ1ZSwgdHJ1ZSk7XG5cdFx0XHRcdC8vIG1vdmUua2V5Q29kZSA9IDM5O1xuXHRcdFx0XHQvLyBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG1vdmUpO1xuXHRcdFx0XHQvLyBjb25zb2xlLmxvZyhwbGF5ZXIwMSk7XG5cdFx0XHRcdC8vIGNvbnNvbGUubG9nKHdpbmRvdyk7XG5cblx0XHRcdFx0cGxheWVyMDEueCA9IHBvcy54O1xuXHRcdFx0XHRwbGF5ZXIwMS55ID0gcG9zLnk7XG5cdFx0XHRcdHBsYXllcjAxLmZyYW1lID0gcG9zLmZyYW1lO1xuXG5cdFx0XHRcdGNvbnNvbGUubG9nKGB4OiAke3BsYXllcjAxLnh9LCBmcmFtZTogJHtwbGF5ZXIwMS5mcmFtZX1gKTtcblx0XHRcdFx0Y29uc29sZS5sb2cocGxheWVyMDEpO1xuXHRcdFx0XHRjb25zb2xlLmxvZyhwbGF5ZXIwMS5mcmFtZSk7XG5cdFx0XHR9KTtcblxuXG5cdFx0XHQvLyBwbGF5ZXIwMeOBruOBi+OBjOOBv1xuXHRcdFx0c29ja2V0Lm9uKCdwdXNoRG93bjAxOicgKyBpZCwgcG9zID0+IHtcblx0XHRcdFx0cGxheWVyMDEueCA9IHBvcy54O1xuXHRcdFx0XHRwbGF5ZXIwMS55ID0gcG9zLnk7XG5cdFx0XHRcdHBsYXllcjAxLmZyYW1lID0gcG9zLmZyYW1lO1xuXG5cdFx0XHRcdC8vIGNvbnNvbGUubG9nKGB5OiAke3BsYXllcjAxLnl9LCBmcmFtZTogJHtwbGF5ZXIwMS5mcmFtZX1gKTtcblx0XHRcdH0pO1xu44CAXG5cdFx0XHQvLyBwbGF5ZXIwMeOBruW3puenu+WLlVxuXHRcdFx0c29ja2V0Lm9uKCdwdXNoTGVmdDAxOicgKyBpZCwgcG9zID0+IHtcblx0XHRcdFx0Ly8gbGV0IG1vdmUgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcblx0XHRcdFx0Ly8gbW92ZS5pbml0RXZlbnQoJ2tleWRvd24nLCB0cnVlLCB0cnVlKTtcblx0XHRcdFx0Ly8gbW92ZS5rZXlDb2RlID0gMzg7XG5cdFx0XHRcdC8vIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobW92ZSk7XG5cblx0XHRcdFx0cGxheWVyMDEueCA9IHBvcy54O1xuXHRcdFx0XHRwbGF5ZXIwMS55ID0gcG9zLnk7XG5cdFx0XHRcdHBsYXllcjAxLmZyYW1lID0gcG9zLmZyYW1lO1xuXG5cdFx0XHRcdGNvbnNvbGUubG9nKGB4OiAke3BsYXllcjAxLnh9LCBmcmFtZTogJHtwbGF5ZXIwMS5mcmFtZX1gKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0Y29uc3QgUGxheWVyMDEgPSBDbGFzcy5jcmVhdGUoU3ByaXRlLCB7XG5cdFx0XHRpbml0aWFsaXplOiBmdW5jdGlvbihwbGF5ZXJJbmZvKSB7XG5cdFx0XHRcdGxldCBncm91bmQgPSAyMjA7XG5cdFx0XHRcdGxldCBwcmVJbnB1dCA9IGZhbHNlO1xuXHRcdFx0XHRsZXQganVtcCA9IGZhbHNlO1xuXG5cdFx0XHRcdFNwcml0ZS5jYWxsKHRoaXMsIDY0LCA2NCk7XG5cdFx0XHRcdHRoaXMucGxheWVySW5mbyA9IHBsYXllckluZm87XG5cdFx0XHRcdHRoaXMuc2V0U2V0dGluZ0ZpbGUocGxheWVySW5mby5zZXR0aW5nRmlsZSk7XG5cdFx0XHRcdHRoaXMuaW1hZ2UgPSBnYW1lLmFzc2V0c1twbGF5ZXIwMV9pbWFnZV07XG5cdFx0XHRcdHRoaXMuc2NhbGVYID0gLTE7XG5cdFx0XHRcdHRoaXMueCA9IHRoaXMucGxheWVySW5mby54O1xuXHRcdFx0XHR0aGlzLnkgPSB0aGlzLnBsYXllckluZm8ueTtcblx0XHRcdFx0dGhpcy53aWR0aCA9IDY0O1xuXHRcdFx0XHQvLyDlkI3liY1cblx0XHRcdFx0dGhpcy5sb2dpbk5hbWUgPSBuZXcgTGFiZWwodGhpcy5wbGF5ZXJJbmZvLmxvZ2luTmFtZSk7XG5cdFx0XHRcdHRoaXMubG9naW5OYW1lLndpZHRoID0gMTAwO1xuXHRcdFx0XHR0aGlzLmxvZ2luTmFtZS5jb2xvciA9ICdibGFjayc7XG5cdFx0XHRcdHRoaXMubG9naW5OYW1lLnggPSB0aGlzLnggKyAxMDtcblx0XHRcdFx0dGhpcy5sb2dpbk5hbWUueSA9IHRoaXMueSAtIDE1O1xuXHRcdFx0XHR0aGlzLmZyYW1lID0gdGhpcy5wbGF5ZXJJbmZvLmZyYW1lO1xuXHRcdFx0XHQvLyDooZ3nqoHliKTlrppcblx0XHRcdFx0dGhpcy5lbnRpdHkgPSBuZXcgRW50aXR5KCk7XG5cdFx0XHRcdHRoaXMuZW50aXR5LnggPSB0aGlzLng7XG5cdFx0XHRcdHRoaXMuZW50aXR5LnkgPSB0aGlzLnk7XG5cdFx0XHRcdHRoaXMuZW50aXR5LndpZHRoID0gNjQ7XG5cdFx0XHRcdHRoaXMuZW50aXR5LmhlaWdodCA9IDY0O1xuXHRcdFx0XHR0aGlzLmVudGl0eS5iYWNrZ3JvdW5kQ29sb3IgPSAnYmx1ZSc7XG5cdFx0XHRcdHRoaXMub24oJ2VudGVyZnJhbWUnLCAoKSA9PiB7XG5cdFx0XHRcdFx0aWYgKHBsYXllckluZm8uaWQpIHtcblx0XHRcdFx0XHRcdGxldCB0ZW1weSA9IHRoaXMueTtcblx0XHRcdFx0XHRcdGxldCBncmF2aXR5ID0gMS4wO1xuXG5cdFx0XHRcdFx0XHR0aGlzLmZyYW1lID0gMDtcblx0XHRcdFx0XHRcdHRoaXMuc2NhbGVYID0gLTE7XG5cblx0XHRcdFx0XHRcdGlmIChpbnB1dC51cCAmJiAhcHJlSW5wdXQgJiYgIWp1bXApIHtcblx0XHRcdFx0XHRcdCAgZ3Jhdml0eSA9IC0xMi4wO1xuXHRcdFx0XHRcdFx0ICBqdW1wID0gdHJ1ZTtcblxuXHRcdFx0XHRcdFx0ICB0aGlzLmxvZ2luTmFtZS55ID0gdGhpcy55IC0gMTU7XG5cblx0XHRcdFx0XHRcdCAgc29ja2V0LmVtaXQoJ3B1c2hVcDAxJywge1xuXHRcdFx0XHRcdFx0ICBcdHg6IHRoaXMueCxcblx0XHRcdFx0XHRcdCAgXHR5OiB0aGlzLnksXG5cdFx0XHRcdFx0XHQgIFx0ZnJhbWU6IHRoaXMuZnJhbWVcblx0XHRcdFx0XHRcdCAgfSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAoaW5wdXQucmlnaHQpIHtcblx0XHRcdFx0XHRcdFx0dGhpcy54ICs9IHBsYXllcl9zcGVlZDtcblx0XHRcdFx0XHRcdFx0dGhpcy5sb2dpbk5hbWUueCArPSBwbGF5ZXJfc3BlZWQ7XG5cdFx0XHRcdFx0XHRcdHRoaXMuZnJhbWUgPSB0aGlzLmFnZSAlIDMgKyAxO1xuXHRcdFx0XHRcdFx0XHRzb2NrZXQuZW1pdCgncHVzaFJpZ2h0MDEnLCB7XG5cdFx0XHRcdFx0XHRcdFx0eDogdGhpcy54LFxuXHRcdFx0XHRcdFx0XHRcdHk6IHRoaXMueSxcblx0XHRcdFx0XHRcdFx0XHRmcmFtZTogdGhpcy5mcmFtZVxuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0aWYgKGlucHV0LmRvd24pIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5mcmFtZSA9IDg7XG5cdFx0XHRcdFx0XHRcdHNvY2tldC5lbWl0KCdwdXNoRG93bjAxJywge1xuXHRcdFx0XHRcdFx0XHRcdHg6IHRoaXMueCxcblx0XHRcdFx0XHRcdFx0XHR5OiB0aGlzLnksXG5cdFx0XHRcdFx0XHRcdFx0ZnJhbWU6IHRoaXMuZnJhbWVcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAoaW5wdXQubGVmdCkge1xuXHRcdFx0XHRcdFx0XHR0aGlzLnNjYWxlWCA9IDE7XG5cdFx0XHRcdFx0XHRcdHRoaXMueCAtPSBwbGF5ZXJfc3BlZWQ7XG5cdFx0XHRcdFx0XHRcdHRoaXMubG9naW5OYW1lLnggLT0gcGxheWVyX3NwZWVkO1xuXHRcdFx0XHRcdFx0XHR0aGlzLmZyYW1lID0gdGhpcy5hZ2UgJSAzICsgMTtcblx0XHRcdFx0XHRcdFx0c29ja2V0LmVtaXQoJ3B1c2hMZWZ0MDEnLCB7XG5cdFx0XHRcdFx0XHRcdFx0eDogdGhpcy54LFxuXHRcdFx0XHRcdFx0XHRcdHk6IHRoaXMueSxcblx0XHRcdFx0XHRcdFx0XHRmcmFtZTogdGhpcy5mcmFtZVxuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmIChpbnB1dC5hKSB7XG5cdFx0XHRcdFx0XHRcdHRoaXMueCArPSAxMDA7XG5cdFx0XHRcdFx0XHRcdHRoaXMuZnJhbWUgPSB0aGlzLmFnZSAlIDMgKyA5O1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYgKGlucHV0LnMpIHtcblx0XHRcdFx0XHRcdFx0dGhpcy54ICs9IDI7XG5cdFx0XHRcdFx0XHRcdHRoaXMuZnJhbWUgPSB0aGlzLmFnZSAlIDIgKyA0O1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0dGhpcy55ICs9ICh0aGlzLnkgLSBncm91bmQpICsgZ3Jhdml0eTtcblx0XHRcdFx0XHRcdGlmICh0aGlzLnkgPiAyMjApIHtcblx0XHRcdFx0XHRcdFx0dGhpcy55ID0gMjIwO1xuXHRcdFx0XHRcdFx0XHRqdW1wID0gZmFsc2U7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRncm91bmQgPSB0ZW1weTtcblx0XHRcdFx0XHRcdHByZUlucHV0ID0gaW5wdXQudXA7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0bGV0IFtsZWZ0LCB0b3BdID0gWzAsIDBdO1xuXHRcdFx0XHRcdGxldCBbcmlnaHQsIGJvdHRvbV0gPSBbc2NyZWVuX3dpZHRoIC0gdGhpcy53aWR0aCwgc2NyZWVuX2hlaWdodCAtIHRoaXMuaGVpZ2hdO1xuXG5cdFx0XHRcdFx0aWYgKHRoaXMueCA8IGxlZnQgfHwgdGhpcy5sb2dpbk5hbWUueCA8IGxlZnQpIHtcblx0XHRcdFx0XHRcdHRoaXMueCA9IGxlZnQ7XG5cdFx0XHRcdFx0XHR0aGlzLmxvZ2luTmFtZS54ID0gbGVmdDtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKHRoaXMueCA+IHJpZ2h0IHx8IHRoaXMubG9naW5OYW1lLnggPiByaWdodCkge1xuXHRcdFx0XHRcdFx0dGhpcy54ID0gcmlnaHQ7XG5cdFx0XHRcdFx0XHR0aGlzLmxvZ2luTmFtZS54ID0gcmlnaHQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICh0aGlzLnkgPCB0b3AgfHwgdGhpcy5sb2dpbk5hbWUueSA8IHRvcCkge1xuXHRcdFx0XHRcdFx0dGhpcy55ID0gdG9wO1xuXHRcdFx0XHRcdFx0dGhpcy5sb2dpbk5hbWUueSA9IHRvcDtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKHRoaXMueSA+IGJvdHRvbSB8fCB0aGlzLmxvZ2luTmFtZS55ID4gYm90dG9tKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnkgPSBib3R0b207XG5cdFx0XHRcdFx0XHR0aGlzLmxvZ2luTmFtZS55ID0gYm90dG9tO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXHRcdFx0c2V0U2V0dGluZ0ZpbGU6IGZ1bmN0aW9uKHNldHRpbmdGaWxlKSB7XG5cdFx0XHRcdHRoaXMuc2V0dGluZ0ZpbGUgPSBzZXR0aW5nRmlsZTtcblx0XHRcdFx0bGV0IGNvcmUgPSBlbmNoYW50LkNvcmUuaW5zdGFuY2U7XG5cdFx0XHRcdGlmIChjb3JlLmFzc2V0c1t0aGlzLnNldHRpbmdGaWxlXSkge1xuXHRcdFx0XHRcdHRoaXMuc2V0U2V0dGluZyhjb3JlLmFzc2V0c1t0aGlzLnNldHRpbmdGaWxlXSk7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRzZXRTZXR0aW5nOiBmdW5jdGlvbihzZXR0aW5nKSB7XG5cdFx0XHRcdGxldCBpbmZvID0gSlNPTi5wYXJzZShzZXR0aW5nKTtcblxuXHRcdFx0XHR0aGlzLndpZHRoID0gaW5mby53aWR0aDtcblx0XHRcdFx0dGhpcy5oZWlnaHQgPSBpbmZvLmhlaWdodDtcblx0XHRcdFx0dGhpcy54ID0gaW5mby54O1xuXHRcdFx0XHR0aGlzLnkgPSBpbmZvLnk7XG5cdFx0XHRcdGNvbnNvbGUubG9nKHRoaXMueCk7XG5cdFx0XHRcdHRoaXMuc2V0SW1hZ2UoaW5mby5pbWFnZSk7XG5cdFx0XHR9LFxuXHRcdFx0YXR0YWNrOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0dGhpcy5mcmFtZSA9IHRoaXMuYWdlICUgMyArIDQ7XG5cdFx0XHRcdGNvbnNvbGUubG9nKHBsYXllcjAxKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGNvbnN0IEF0dGFjazAxID0gQ2xhc3MuY3JlYXRlKFNwcml0ZSwge1xuXHRcdFx0aW5pdGlhbGl6ZTogZnVuY3Rpb24oeCwgeSkge1xuXHRcdFx0XHRzcHJpdGUuY2FsbCh0aGlzLCA2NCwgNjQpO1xuXHRcdFx0XHR0aGlzLmRlc3Ryb3kgPSBmYWxzZTtcblx0XHRcdFx0dGhpcy54ID0geDtcblx0XHRcdFx0dGhpcy55ID0geTtcblx0XHRcdFx0dGhpcy5vbignZW50ZXJmcmFtZScsICgpID0+IHtcblx0XHRcdFx0XHRpZiAoZ2FtZS5pbnB1dC5hKSB7XG5cdFx0XHRcdFx0XHRBdHRhY2swMUZ1YygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjb25zb2xlLmxvZyhBdHRhY2swMSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Y2xhc3MgUGxheWVyMDMge1xuXHRcdFx0Y29uc3RydWN0b3IoeCwgeSkge1xuXHRcdFx0XHRjb25zdCBwbGF5ZXIwM19pbWcgPSBuZXcgSW1hZ2UoKTtcblx0XHRcdFx0cGxheWVyMDNfaW1nLnNyYyA9ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvaW1hZ2VzL2JpZ21vbnN0ZXIyLmdpZic7XG5cdFx0XHRcdHRoaXMueCA9IHg7XG5cdFx0XHRcdHRoaXMueSA9IHk7XG5cdFx0XHRcdHRoaXMud2lkdGggPSAyNTQ7XG5cdFx0XHRcdHRoaXMuaGVpZ2h0ID0gMjU0O1xuXHRcdFx0XHR0aGlzLmltYWdlID0gZ2FtZS5hc3NldHNbcGxheWVyMDFfaW1hZ2VdO1xuXHRcdFx0XHR0aGlzLmZyYW1lID0gMDtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRjb25zdCBQbGF5ZXIwMiA9IENsYXNzLmNyZWF0ZShTcHJpdGUsIHtcblx0XHRcdGluaXRpYWxpemU6IGZ1bmN0aW9uKHgsIHkpIHtcblx0XHRcdFx0U3ByaXRlLmNhbGwodGhpcywgNjQsIDY0KTtcblx0XHRcdFx0dGhpcy5pbWFnZSA9IGdhbWUuYXNzZXRzW3BsYXllcjAyX2ltYWdlXTtcblx0XHRcdFx0bGV0IHAwMV9pbWFnZSA9IHRoaXMuaW1hZ2U7XG5cdFx0XHRcdHRoaXMueCA9IHg7XG5cdFx0XHRcdHRoaXMueSA9IHk7XG5cdFx0XHRcdHRoaXMuc2NhbGVYID0gMTtcblx0XHRcdFx0dGhpcy5mcmFtZSA9IDA7XG5cdFx0XHRcdHRoaXMub24oJ2VudGVyZnJhbWUnLCAoKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5mcmFtZSA9IHRoaXMuZGlyZWN0aW9uICogMyArIHRoaXMud2Fsaztcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHR2YXIgYXR0YWNrSW50ZXJzZWN0ID0gKCkgPT4ge1xuXHRcdFx0aWYgKHBsYXllcjAxLmludGVyc2VjdChwbGF5ZXIwMikpIHtcblx0XHRcdFx0cGxheWVyMDIucmVtb3ZlRW50ZXJMaXN0ZW5lcignZW50ZXJmcmFtZScsIGF0dGFja0ludGVyc2VjdCk7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCfjgbbjgaTjgYvjgaPjgZ8nKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBBdHRhY2swMUZ1YygpIHtcblx0XHRcdGNvbnN0IGF0dGFjazAxID0gbmV3IEF0dGFjazAxKCk7XG5cdFx0XHRyb290LmFkZENoaWxkKGF0dGFjazAxKTtcblx0XHRcdGNvbnNvbGUubG9nKGF0dGFjazAxKTtcblx0XHR9XG5cblxuXHRcdGZ1bmN0aW9uIHRvcFNjZW5lKCkge1xuXHRcdFx0bGV0IHNjZW5lID0gbmV3IFNjZW5lKCk7XG5cdFx0XHRsZXQgYmcgPSBuZXcgU3ByaXRlKHNjcmVlbl93aWR0aCwgc2NyZWVuX2hlaWdodCk7XG5cblx0XHRcdHJldHVybiBzY2VuZTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBiYXR0bGVTY2VuZSgpIHtcblx0XHRcdHJvb3QuYWRkQ2hpbGQoYmcpO1xuXHRcdFx0cm9vdC5hZGRDaGlsZChMaWZlUDEpO1xuXHRcdFx0cm9vdC5hZGRDaGlsZChMaWZlUDIpO1xuXHRcdFx0Y29uc3QgcGxheWVyMDEgPSBuZXcgUGxheWVyMDEocGxheWVySW5mbyk7XG5cdFx0XHRyb290LmFkZENoaWxkKHBsYXllcjAxLCBhdHRhY2tJbnRlcnNlY3QpO1xuXHRcdFx0cm9vdC5hZGRDaGlsZChwbGF5ZXIwMS5sb2dpbk5hbWUpO1xuXG5cdFx0XHRjb25zdCBwbGF5ZXIwMiA9IG5ldyBQbGF5ZXIwMihzY3JlZW5fd2lkdGggLyAxLjUsIDIyMCk7XG5cdFx0XHRyb290LmFkZENoaWxkKHBsYXllcjAyLCBhdHRhY2tJbnRlcnNlY3QpO1xuXG5cdFx0XHRjb25zdCBkaXN0YW5jZSA9IChwbGF5ZXIwMUVudGl0eS53aWR0aCArIHBsYXllcjAxLndpZHRoKSAvIDI7XG5cdFx0XHQvLyBpZiAocGxheWVyMDEud2l0aGluKHBsYXllcjAxRW50aXR5LCBkaXN0YW5jZSkgPT09IHRydWUpIHtcblx0XHRcdC8vIFx0cGxheWVyMDFFbnRpdHkuYmFja2dyb3VuZENvbG9yID0gJ3JlZCc7XG5cdFx0XHQvLyB9XG5cdFx0XHRjb25zb2xlLmxvZyhkaXN0YW5jZSk7XG5cdFx0XHRyZXR1cm4gc2NlbmU7XG5cdFx0fVxuXG5cdFx0Z2FtZS5yb290U2NlbmUub24oJ2VudGVyZnJhbWUnLCAoKSA9PiB7XG5cdFx0XHRpZiAoZ2FtZS5pbnB1dC5zcGFjZSkge1xuXHRcdFx0XHRiYXR0bGVTY2VuZSgpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9O1xuXHRnYW1lLnN0YXJ0KCk7XG59OyJdfQ==
